{% extends "base.html" %}

{% block title %}Schedule Service - Rolsa Technologies{% endblock %}

{% block extra_css %}
<style>
    .schedule-container {
        max-width: 600px;
        margin: 40px auto;
        padding: 30px;
        background: var(--card-bg);
        border-radius: 15px;
        box-shadow: var(--shadow);
    }
    
    .service-options {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 20px;
        margin: 30px 0;
    }
    
    .service-option {
        position: relative;
    }
    
    .service-option input[type="radio"] {
        display: none;
    }
    
    .service-option label {
        display: block;
        padding: 20px;
        background: var(--bg-color);
        border: 2px solid var(--border-color);
        border-radius: 10px;
        cursor: pointer;
        text-align: center;
        transition: var(--transition);
    }
    
    .service-option input[type="radio"]:checked + label {
        border-color: var(--primary-color);
        background: rgba(46, 139, 87, 0.1);
    }
    
    .service-option label:hover {
        border-color: var(--primary-color);
        transform: translateY(-2px);
    }
    
    .service-option h3 {
        color: var(--primary-color);
        margin-bottom: 10px;
    }
    
    .service-option p {
        color: var(--text-color);
        opacity: 0.9;
        font-size: 0.9rem;
    }
    
    .datetime-picker {
        margin: 30px 0;
    }
    
    .form-row {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 20px;
    }
    
    @media (max-width: 768px) {
        .service-options {
            grid-template-columns: 1fr;
        }
        
        .form-row {
            grid-template-columns: 1fr;
        }
    }
</style>
{% endblock %}

{% block content %}
<div class="schedule-container">
    <h1 style="text-align: center; color: var(--primary-color);">Schedule a Service</h1>
    
    <form method="POST" action="{{ url_for('schedule') }}">
        <div class="service-options">
            <div class="service-option">
                <input type="radio" id="installation" name="service_type" value="installation" required>
                <label for="installation">
                    <h3>üîß Installation</h3>
                    <p>Professional setup of your solar panels, EV chargers, or smart home system</p>
                </label>
            </div>
            
            <div class="service-option">
                <input type="radio" id="maintenance" name="service_type" value="maintenance" required>
                <label for="maintenance">
                    <h3>üîç Maintenance</h3>
                    <p>System checkup, optimization, and performance tuning</p>
                </label>
            </div>
        </div>
        
        <div class="datetime-picker">
            <h3 style="margin-bottom: 20px;">Select Date & Time</h3>
            <div class="form-row">
                <div class="form-group">
                    <label for="date">Date:</label>
                    <input type="date" id="date" name="selected_date" class="form-control" required 
                           min="{{ now.strftime('%Y-%m-%d') }}">
                </div>
                
                <div class="form-group">
                    <label for="time">Time:</label>
                    <input type="time" id="time" name="selected_time" class="form-control" required 
                           min="09:00" max="17:00" step="1800">
                    <small style="color: var(--text-color); opacity: 0.8;">Business hours: 9:00 AM - 5:00 PM</small>
                </div>
            </div>
        </div>
        
        <button type="submit" class="btn btn-primary" style="width: 100%; padding: 15px; font-size: 1.1rem;">
            üìÖ Schedule Appointment
        </button>
    </form>
</div>

<script>
    // Set minimum date to today
    document.addEventListener('DOMContentLoaded', function() {
        const dateInput = document.getElementById('date');
        const today = new Date().toISOString().split('T')[0];
        dateInput.min = today;
        dateInput.value = today;
    });
</script>
{% endblock %}